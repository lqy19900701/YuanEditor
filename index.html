<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>YuanEditor</title>
</head>
<body>
    <div id="div1">
        <p>欢 迎 使 用 <b>骆 清 源 的</b> 文 本 编 辑 器</p>
    </div>


    <hr>

    <input id="textname"type="text" size="100" maxlength="250" value="标题">
    <textarea id="text1" style="width:100%; height:200px;"></textarea>
    <input class="btn btn-primary" type="submit" value="确认提交" onclick="saveText()">

	<!-- 引用js -->
	<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript" src="../wangEditor.js"></script>
    <script type="text/javascript">
        var E = window.wangEditor
        var editor = new E('#div1')
        var $text1 = $('#text1')
        editor.customConfig.onchange = function (html) {
            // 监控变化，同步更新到 textarea
            $text1.val(html)
        }
        editor.create()
        // 初始化 textarea 的值
        $text1.val(editor.txt.html())
    </script>
    
    <script>
    function saveText(){
        var strHTML=document.getElementById("text1").value;
        var strHTML_name=document.getElementById("textname").value;
        var winSave=window.open();
        winSave.document.open("text","gb2312");  
        winSave.document.write(strHTML);  
        winSave.document.execCommand("SaveAs",true,"strHTML_name.txt");
        window.location.href="#"  ;
        winSave.close();   
    }
    </script>
	<div>
        <ul>
            <li><a href="Edit.html" target="_blank">编辑页面</a></li>
            <li><a href="View.html" target="_blank">查看页面</a></li>
                
        </ul>
    </div>
	
	
	
</body>
</html>